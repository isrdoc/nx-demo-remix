{
  "version": 3,
  "sources": ["browser-route-module:/Users/igorsrdoc/Documents/Code/Next/nx-demo-remix/packages/demo/app/routes/notifications.tsx?browser", "../../../app/routes/notifications.tsx"],
  "sourcesContent": ["export { default } from \"/Users/igorsrdoc/Documents/Code/Next/nx-demo-remix/packages/demo/app/routes/notifications.tsx\";", "import { redirect } from '@remix-run/node';\nimport type { LoaderFunction, ActionFunction } from '@remix-run/node';\nimport { json } from '@remix-run/node';\nimport {\n  useLoaderData,\n  Form,\n  useSubmit,\n  useTransition,\n  FormProps,\n} from '@remix-run/react';\nimport type { Notification } from './notifications.types';\n\nconst API = 'http://localhost:5001';\n\ntype LoaderData = { notifications: Notification[] };\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const url = new URL(request.url);\n  const search = new URLSearchParams(url.search);\n  const searchResponse = await fetch(\n    `${API}/search?type=${search.get('type') || ''}`\n  );\n  const notifications = await searchResponse.json();\n  const data: LoaderData = { notifications };\n  return json(data);\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  const form = await request.formData();\n  const type = form.get('type');\n  return redirect(`/notifications?type=${type}`);\n};\n\nexport default function Notifications() {\n  const { notifications } = useLoaderData<LoaderData>();\n  const submit = useSubmit();\n  const transition = useTransition();\n\n  function handleChange(event: React.FormEvent<HTMLFormElement>) {\n    submit(event.currentTarget, { replace: true });\n  }\n\n  return (\n    <div className={classes['notifications__container']}>\n      <h2 className={classes['notifications__title']}>Notifications</h2>\n      <Form\n        className={classes['notifications__search-form']}\n        method=\"post\"\n        action=\"/notifications\"\n        onChange={handleChange}\n      >\n        <input\n          className={classes['notifications__search-input']}\n          type=\"text\"\n          name=\"type\"\n          placeholder=\"Type to filter events\"\n        />\n      </Form>\n      {transition.submission && <div>Searching...</div>}\n      {notifications.map((notification) => (\n        <div key={notification.id}>{JSON.stringify(notification)}</div>\n      ))}\n    </div>\n  );\n}\n\n// prettier-ignore\nconst classes = {\n  'notifications__container': 'notifications__container',\n  'notifications__title': 'notifications__title',\n  'notifications__search-form': 'notifications__search-form',\n  'notifications__search-input': 'notifications__search-input',\n};\n\n// const Container: React.FC = ({ children, ...rest }) => (\n//   <div className=\"notifications__container\" {...rest}>\n//     {children}\n//   </div>\n// );\n// const Title: React.FC = ({ children, ...rest }) => (\n//   <h2 className=\"notifications__title\" {...rest}>\n//     {children}\n//   </h2>\n// );\n// const SearchForm: FormProps = ({ children, ...rest }): typeof Form => (\n//   <Form className=\"notifications__search-form\" {...rest}>\n//     {children}\n//   </Form>\n// );\n"],
  "mappings": ";;;;;;;;;;;;AAAA;;;ACAA;AAiCe,yBAAyB;AACtC,QAAM,EAAE,kBAAkB;AAC1B,QAAM,SAAS;AACf,QAAM,aAAa;AAEnB,wBAAsB,OAAyC;AAC7D,WAAO,MAAM,eAAe,EAAE,SAAS;AAAA;AAGzC,SACE,oCAAC,OAAD;AAAA,IAAK,WAAW,QAAQ;AAAA,KACtB,oCAAC,MAAD;AAAA,IAAI,WAAW,QAAQ;AAAA,KAAyB,kBAChD,oCAAC,MAAD;AAAA,IACE,WAAW,QAAQ;AAAA,IACnB,QAAO;AAAA,IACP,QAAO;AAAA,IACP,UAAU;AAAA,KAEV,oCAAC,SAAD;AAAA,IACE,WAAW,QAAQ;AAAA,IACnB,MAAK;AAAA,IACL,MAAK;AAAA,IACL,aAAY;AAAA,OAGf,WAAW,cAAc,oCAAC,OAAD,MAAK,iBAC9B,cAAc,IAAI,CAAC,iBAClB,oCAAC,OAAD;AAAA,IAAK,KAAK,aAAa;AAAA,KAAK,KAAK,UAAU;AAAA;AAOnD,IAAM,UAAU;AAAA,EACd,4BAA4B;AAAA,EAC5B,wBAAwB;AAAA,EACxB,8BAA8B;AAAA,EAC9B,+BAA+B;AAAA;",
  "names": []
}
